<div th:fragment="edit-working-places" class="tab-pane active container" id="workingPlacesEdit">


    <div class="container">
        <h3 class="mb-5" th:text="#{wp.modifiyTitle}">modify Working Places</h3>
        <form method="POST" th:action="@{/company/working-places}" th:object="${workingPlace}">

            <input hidden name="id" th:value="${workingPlace.id}" th:field="*{id}">

            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="form-group">
                    <label th:text="#{wp.city}">workingPlaces city</label>
                    <input class="form-control" th:placeholder="#{wp.city}" th:value="${workingPlace.address.city}" type="text" name="city" required th:field="*{address.city}">
                </div>
                <!-- Error -->
                    <p class="color--error mb-2" th:each="err : ${#fields.errors('address.city')}"><strong th:text="${err}">error</strong></p>
            </div>

            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="form-group">
                    <label th:text="#{wp.country}">workingPlaces country</label>
                    <input class="form-control" maxlength="2" th:placeholder="#{wp.country}" th:value="${workingPlace.address.country}" type="text" name="country" required th:field="*{address.country}">
                </div>
                <!-- Error -->
                    <p class="color--error mb-2" th:each="err : ${#fields.errors('address.country')}"><strong th:text="err">error</strong></p>
            </div>


            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="form-group">
                    <label th:text="#{wp.address}">workingPlaces address</label>
                    <input class="form-control" th:placeholder="#{wp.address}" th:value="${workingPlace.address}" type="text" name="address" required th:field="*{address.street}">
                </div>
                <!-- Error -->                
                    <p class="color--error mb-2" th:each="err : ${#fields.errors('address.street')}"><strong th:text="${err}">error</strong></p>
            </div>

            <div class="col-lg-12 col-md-12 col-sm-12">
                <label th:text="#{wp.type}">workingPlaces type</label>
                <select class="form-control" id="working-place-type" name="type" required th:field="*{workingPlaceType}">
                    <option th:selected="${workingPlace.workingPlaceType.name() == 'LEGAL'}" th:value="${T(it.workstocks.entity.enums.WorkingPlaceType).LEGAL}" th:text="#{wp.legal}">legal</option>
                    <option th:selected="${workingPlace.workingPlaceType.name() == 'COMMERCIAL'}" th:value="${T(it.workstocks.entity.enums.WorkingPlaceType).COMMERCIAL}" th:text="#{wp.commercial}">commercial</option>
                    <option th:selected="${workingPlace.workingPlaceType.name() == 'OPERATIVE'}" th:value="${T(it.workstocks.entity.enums.WorkingPlaceType).OPERATIVE}" th:text="#{wp.operative}">operative</option>
                </select>
                <!-- Error -->
                    <p class="color--error mb-2" th:each="err : ${#fields.errors('workingPlaceType')}"><strong th:text="${err}">error</strong></p>
            </div>

            <div class="col-lg-12 col-md-12 col-sm-12 mt-4">
                <div class="form-group">
                	<input class="mr-2" th:if="${workingPlace.mainWorkingPlace}" type="checkbox" name="primary" id="check-main" checked th:text="#{wp.main}" th:field="*{mainWorkingPlace}">
                    <input class="mr-2" th:unless="${workingPlace.mainWorkingPlace}" type="checkbox" name="primary" id="check-main" th:text="#{wp.main}" th:field="*{mainWorkingPlace}"> 
                </div>
                <!-- Error -->
                    <p class="color--error mb-2" th:each="err : ${#fields.errors('mainWorkingPlace')}"><strong th:text="${err}">error</strong></p>
            </div>

            <button type="submit" class="btn add-pr-item-btn mt-2 ml-1" th:text="#{wp.updateButton}">updateButton</button>
        </form>
    </div>

    <script>
        $(document).ready(function() {
            $('#working-place-type').select2({
                minimumResultsForSearch: -1
            });
        });
    </script>
    
</div>
